@model Proyecto_Diseno_Desarrollo_Grupo5.EF.CATEGORIAS

@{
    ViewBag.Title = "Crear categoría";
    Layout = "~/Views/Shared/_LayoutCliente.cshtml";

    var nombre = (Session["NombreUsuario"] ?? "Usuario").ToString();
    var rol = (Session["Rol"] ?? "CLIENTE").ToString();
}

@section styles {
    <link rel="stylesheet" href="~/StaticFiles/css/Index.css" />
}

<div class="lp-nav">
    <div class="lp-nav__inner">
        <div class="lp-brand">
            <img src="~/StaticFiles/img/AlphaStockLogo.png" alt="AlphaStock" />
            <div class="lp-brand__text">
                <b>AlphaStock</b>
                <span>Sistema de Inventarios · Granito & Mármol</span>
            </div>
        </div>

        <nav class="lp-menu">
            <div class="lp-dd">
                <a class="lp-dd__btn" href="javascript:void(0)">Inventario <span class="caret"></span></a>
                <div class="lp-dd__menu">
                    <a class="lp-dd__item" href="#"><b>Materiales</b><span>Catálogo y costos</span></a>
                    <a class="lp-dd__item" href="#"><b>Movimientos</b><span>Entradas / salidas</span></a>
                    <a class="lp-dd__item" href="#"><b>Cortes</b><span>Registro de cortes</span></a>
                </div>
            </div>

            <div class="lp-dd">
                <a class="lp-dd__btn" href="javascript:void(0)">Ventas <span class="caret"></span></a>
                <div class="lp-dd__menu">
                    <a class="lp-dd__item" href="#"><b>Nueva venta</b><span>Factura y detalle</span></a>
                    <a class="lp-dd__item" href="#"><b>Devoluciones</b><span>Gestión y motivo</span></a>
                    <a class="lp-dd__item" href="#"><b>Clientes</b><span>Consulta rápida</span></a>
                </div>
            </div>

            <div class="lp-dd">
                <a class="lp-dd__btn" href="javascript:void(0)">Reportes <span class="caret"></span></a>
                <div class="lp-dd__menu">
                    <a class="lp-dd__item" href="#"><b>Mensual</b><span>Ventas por período</span></a>
                    <a class="lp-dd__item" href="#"><b>Inventario</b><span>Existencias y alertas</span></a>
                    <a class="lp-dd__item" href="#"><b>Cortes</b><span>Resumen de producción</span></a>
                </div>
            </div>

            @if (rol == "ADMINISTRADOR")
            {
                <div class="lp-dd">
                    <a class="lp-dd__btn" href="javascript:void(0)">Administración <span class="caret"></span></a>
                    <div class="lp-dd__menu">
                        <a class="lp-dd__item" href="#"><b>Usuarios</b><span>Roles y estado</span></a>
                        <a class="lp-dd__item" href="#"><b>Parámetros</b><span>Configuración general</span></a>
                        <a class="lp-dd__item" href="#"><b>Bitácora</b><span>Auditoría del sistema</span></a>
                        <a class="lp-dd__item" href="@Url.Action("Index","Categorias")"><b>Categorías</b><span>Crear y administrar categorías</span></a>
                    </div>
                </div>
            }
        </nav>

        <div class="lp-nav__right">
            <span class="lp-pill">Hola, @nombre</span>
            <a class="lp-btn" href="@Url.Action("Logout","Autenticacion")">Salir</a>
        </div>
    </div>
</div>

<section class="lp-hero">
    <div class="lp-wrap">
        <div class="hero">
            <div class="hero__left">
                <span class="hero__kicker">Administración · Categorías</span>
                <h1>Crear categoría</h1>
                <p>
                    Completá el formulario para registrar una nueva categoría.
                </p>

                <div class="hero__cta">
                    <a class="btn2" href="@Url.Action("Index","Categorias")">Volver al listado</a>
                </div>
            </div>

            <div class="hero__right">
                <div class="stats">
                    <div class="stat">
                        <b>Atención</b>
                        <span>Verificá nombre único</span>
                    </div>
                    <div class="stat">
                        <b>Estado</b>
                        <span>Se guardará como Activo por defecto</span>
                    </div>
                    <div class="stat">
                        <b>Permisos</b>
                        <span>Solo administradores pueden crear</span>
                    </div>
                    <div class="stat">
                        <b>Última acción</b>
                        <span>—</span>
                    </div>
                </div>
                <div class="hero__hint">
                    Evitá nombres duplicados para no generar conflictos en inventario.
                </div>
            </div>
        </div>
    </div>
</section>

<section class="lp-section">
    <div class="lp-wrap">
        <div class="panel">
            <div class="panel__head">
                <b>Formulario</b>
                <span class="muted">Datos de la categoría</span>
            </div>

            @using (Html.BeginForm()) {
                @Html.AntiForgeryToken()

                <div class="form-group">
                    @Html.LabelFor(m => m.NOMBRE)
                    @Html.TextBoxFor(m => m.NOMBRE, new { @class = "form-control" })
                    @Html.ValidationMessageFor(m => m.NOMBRE)
                </div>

                <div class="form-group">
                    @Html.LabelFor(m => m.DESCRIPCION)
                    @Html.TextAreaFor(m => m.DESCRIPCION, new { @class = "form-control", rows = 3 })
                </div>

                <button type="submit" class="btn btn-primary">Guardar</button>
                @Html.ActionLink("Cancelar", "Index", "Categorias", null, new { @class = "btn btn-secondary" })
            }
        </div>
    </div>
</section>

<footer class="lp-footer">
    <div class="lp-wrap footer">
        <div>© @DateTime.Now.Year AlphaStock</div>
        <div class="lp-muted">info@alphastock.com · +506 8888-8888</div>
    </div>
</footer>
